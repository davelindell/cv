\DeclareOldFontCommand{\rm}{\normalfont\rmfamily}{\mathrm}
\DeclareOldFontCommand{\sf}{\normalfont\sffamily}{\mathsf}
\DeclareOldFontCommand{\tt}{\normalfont\ttfamily}{\mathtt}
\DeclareOldFontCommand{\bf}{\normalfont\bfseries}{\mathbf}
\DeclareOldFontCommand{\it}{\normalfont\itshape}{\mathit}
\DeclareOldFontCommand{\sl}{\normalfont\slshape}{\@nomath\sl}
\DeclareOldFontCommand{\sc}{\normalfont\scshape}{\@nomath\sc}
\DeclareRobustCommand*\cal{\@fontswitch\relax\mathcal}
\DeclareRobustCommand*\mit{\@fontswitch\relax\mathnormal}

\moderncvstyle{banking}
\moderncvcolor{black}
\definecolor{color2}{rgb}{0.25,0.25,0.25}
%\renewcommand{\familydefault}{\sfdefault}

\usepackage[top=1in, bottom=1in, left=1.0in, right=1.0in]{geometry}
\usepackage{comment}
\setlength{\hintscolumnwidth}{3.5cm}
%\setlength{\makecvtitlenamewidth}{10cm}
%\frenchspacing

\usepackage[maxcitenames=50,maxbibnames=99,backend=biber,style=ieee,sorting=ydnt,defernumbers=true,dashed=false]{biblatex}

\AtDataInput{%
  \ifcsundef{bbx@processedentries:\therefsection}
    {\csgdef{bbx@processedentries:\therefsection}{}}
    {}%
  \xifinlistcs{\thefield{entrykey}}{bbx@processedentries:\therefsection}{}{%
    \listcsxadd{bbx@processedentries:\therefsection}{\thefield{entrykey}}%
    \csnumgdef{bbx@entrycount:\therefsection:\thefield{keywords}}{%
      \csuse{bbx@entrycount:\therefsection:\thefield{keywords}}+1}}}

% Print the labelnumber as the total number of entries in the
% current refsection, minus the actual labelnumber, plus one
\DeclareFieldFormat{labelnumber}{\mkbibdesc{#1}}    
\newrobustcmd*{\mkbibdesc}[1]{%
  \number\numexpr\csuse{bbx@entrycount:\therefsection:\thefield{keywords}}+1-#1\relax}

% Make the author's name bold in publications.
\newbibmacro{name:format}{%
  \ifthenelse{\equal{\namepartfamily}{Lindell}}%
    {\textbf{\ifblank{\namepartgiveni}{}{\namepartgiveni\space}\namepartfamily}}%
    {\ifblank{\namepartgiveni}{}{\namepartgiveni\space}\namepartfamily}%
  \ifthenelse{\value{listcount}=1 \AND \value{liststop}=2}%
    {\space and}%
    {\ifthenelse{\value{listcount}<\value{liststop}}%
      {\addcomma}%
      {}%
    }%
}
\DeclareNameFormat{author}{
   \usebibmacro{name:format}%
}

\defbibenvironment{bibliography}
 {\list
 {\printtext[labelnumberwidth]{%
    \printfield{labelprefix}%
    \printfield{labelnumber}}}
    {\setlength{\labelwidth}{100pt}%{\labelnumberwidth}%
 \setlength{\leftmargin}{32pt}%{\labelwidth}%
 \setlength{\labelsep}{\biblabelsep}%
 %\addtolength{\leftmargin}{\labelsep}%
 \setlength{\itemsep}{\bibitemsep}%
 \setlength{\parsep}{\bibparsep}}%
}
 {\endlist}
 {\item}


\usepackage{lastpage}
%\cfoot{\addressfont\textcolor{gray}{Page \thepage\ of \pageref{LastPage}}}

\AtEndPreamble{\hypersetup{pdftitle={CV -- David B. Lindell}}}
\name{David B.}{Lindell\vspace{2mm}}
% \title{Curriculum Vitae}
\address{Room BA7228, 40 St.\ George St.}{Toronto, ON M5S 2E4, Canada}{}
\mobile{+1~507~514~2491}
\email{lindell@cs.toronto.edu}
\homepage{davidlindell.com}
%\social[linkedin]{davelindell}
%\social[twitter]{davelindell}
%\social[github]{davelindell}
%\extrainfo{\small Generated on \today}
%\photo[64pt][0.4pt]{picture}
% \quote{Generated on \today}


